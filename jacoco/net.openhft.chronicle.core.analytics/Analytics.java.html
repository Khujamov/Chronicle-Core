<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Analytics.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">OpenHFT/Chronicle-Core</a> &gt; <a href="index.source.html" class="el_package">net.openhft.chronicle.core.analytics</a> &gt; <span class="el_source">Analytics.java</span></div><h1>Analytics.java</h1><pre class="source lang-java linenums">package net.openhft.chronicle.core.analytics;

import net.openhft.chronicle.core.internal.analytics.AnalyticsUtil;
import org.jetbrains.annotations.NotNull;

import java.util.Collections;
import java.util.Map;

/**
 * Provides means for libraries to report analytics to an upstream receiver.
 * &lt;p&gt;
 * Analytics instances only provides a best-effort to propagate
 * events to the upstream receiver.
 * &lt;p&gt;
 * Analytics can be turned off buy setting the system property
 * &quot;chronicle.analytics.disable=true&quot; prior to acquiring any Analytics
 * instances.
 */
public interface Analytics {

    /**
     * Notifies that the library has started.
     * &lt;p&gt;
     * Depending on settings and other conditions, the event may or may not be
     * sent upstream. For example, some implementations may
     * send a limited number of upstream events per time unit.
     * &lt;p&gt;
     */
    default void onStart() {
<span class="nc" id="L30">        onStart(Collections.emptyMap());</span>
<span class="nc" id="L31">    }</span>

    /**
     * Notifies that the library has started including the provided
     * {@code eventParameters} in the event.
     * &lt;p&gt;
     * Depending on settings and other conditions, the event may or may not be
     * sent upstream. For example, some implementations may
     * send a limited number of upstream events per time unit.
     * &lt;p&gt;
     */
    default void onStart(@NotNull Map&lt;String, String&gt; eventParameters) {
<span class="nc" id="L43">        onFeature(&quot;started&quot;, eventParameters);</span>
<span class="nc" id="L44">    }</span>

    /**
     * Notifies that a certain feature in a library has been used as
     * identified by the provided feature {@code id)}.
     * &lt;p&gt;
     * Depending on settings and other conditions, the event may or may not be
     * sent upstream. For example, some implementations may
     * send a limited number of upstream events per time unit.
     */
    default void onFeature(@NotNull String id) {
<span class="nc" id="L55">        onFeature(id, Collections.emptyMap());</span>
<span class="nc" id="L56">    }</span>

    /**
     * Notifies that a certain feature in a library has been used as
     * identified by the provided feature {@code id)} including the provided
     * {@code eventParameters} in the event.
     * &lt;p&gt;
     * Depending on settings and other conditions, the event may or may not be
     * sent upstream. For example, some implementations may
     * send a limited number of upstream events per time unit.
     */
    void onFeature(@NotNull String id, @NotNull Map&lt;String, String&gt; eventParameters);

    /**
     * Returns an existing Analytics instance for the provided {@code artifactId} and
     * the provided {@code version}. If no such instance exists, one will be created.
     *
     * @param artifactId of the library (e.g. chronicle-queue)
     * @param version of the library (e.g. 5.20.111)
     * @return an Analytics instance for the provided {@code artifactId} and
     *         the provided {@code version}
     */
    @NotNull
    static Analytics acquire(@NotNull final String artifactId, @NotNull final String version) {
<span class="nc" id="L80">        return AnalyticsUtil.acquire(artifactId, version);</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>